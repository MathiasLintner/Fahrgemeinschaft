<!DOCTYPE html>
<html>
<head>
  <title><%= title %></title>
  <link rel="stylesheet" href="/stylesheets/style.css">
</head>
<body>
  <h1>Fahrtenübersicht</h1>

  <p class="actions">
    <a href="/fahrten/anlegen"><button>Fahrt anlegen</button></a>
    <a href="/fahrten/abfragen"><button>Fahrt abfragen</button></a>
  </p>
  <hr>

  <% if (fahrten && fahrten.length) { %>
    <table border="1" cellpadding="6">
      <tr>
        <th>Start</th><th>Ziel</th><th>Plätze</th><th>Datum</th><th>Distanz (km)</th><th>Preis (€)</th><th>Gebäck</th>
        <th>Aktion</th>
      </tr>
      <% fahrten.forEach(f => { %>
        <tr>
          <td><%= f.start %></td>
          <td><%= f.ziel %></td>
          <td><%= f.plaetze %></td>
          <td><%= f.datum || '' %></td>
          <td><%= (typeof f.distanz === 'number' ? f.distanz.toFixed(1) : '') %></td>
          <td><%= (typeof f.preis === 'number' ? f.preis.toFixed(2) : '') %></td>
          <td><%= f.gebaeckErlaubt ? 'Ja' : 'Nein' %></td>
          <td>
            <form method="post" action="/fahrten/<%= f.id %>/loeschen" style="display:inline"
                  onsubmit="return confirm('Wirklich löschen?');">
              <button class="danger">Löschen</button>
            </form>
          </td>
        </tr>
      <% }) %>
    </table>
  <% } else { %>
    <p>Noch keine Fahrten vorhanden.</p>
  <% } %>
</body>
</html>
